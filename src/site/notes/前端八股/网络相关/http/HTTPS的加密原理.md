---
{"dg-publish":true,"permalink":"/前端八股/网络相关/http/HTTPS的加密原理/","created":"2025-05-25T13:32:14.783+08:00","updated":"2025-06-15T13:13:24.365+08:00"}
---

> [!NOTE]
> HTTP 传输未加密的数据，这意味着从浏览器发送的信息可能会被第三方拦截和读取。这一过程并不理想，因此将其扩展成为 HTTPS，以便为通信再增加一层安全性。HTTPS 将 HTTP 请求和响应与 SSL 和 TLS 技术相结合。

[http和https的关系与区别](http和https的关系与区别.md)
[Session、Cookie、Token](Session、Cookie、Token.md)
[http常见状态码及其含义](http常见状态码及其含义.md)
[http各版本相较于上个版本各自做了哪些优化](http各版本相较于上个版本各自做了哪些优化.md)
## 定义
https://www.runoob.com/w3cnote/http-vs-https.html
HTTP 协议是为网络通信提供支持的底层技术。
HTTPS(==HTTP+SSL==):顾名思义，安全超文本传输协议（HTTPS）是 HTTP 的一种更安全的版本或扩展。
> 超文本传输协议（HTTP）是用于客户端-服务器通信的协议或一组通信规则。当您访问网站时，您的浏览器会向 Web 服务器发送 HTTP 请求，该服务器将以 HTTP 响应进行响应。Web 服务器将以纯文本形式与您的浏览器交换数据。简而言之，HTTP 协议是为网络通信提供支持的底层技术。顾名思义，安全超文本传输协议（HTTPS）是 HTTP 的一种更安全的版本或扩展。在 HTTPS 中，浏览器与服务器会在传输数据之前建立安全的加密连接。
## HTTP 协议的工作原理

HTTP 是OSI网络通信模型中的一种==应用层协议==。它定义了几种类型的请求和响应。例如，当您想查看网站上的某些数据时，您将发送 _HTTP GET_ 请求。如果您想发送某些信息，如填写联系表单，您将发送 _HTTP PUT_ 请求。

同样，服务器将以数字代码和数据的形式发送不同类型的 HTTP 响应。下面是一些示例：

- 200 - 正常
- 400 - 错误请求
- 404 - 未找到资源

这种请求-响应通信通常对您的用户不可见。这是浏览器和 Web 服务器使用的通信方式，因此万维网能以一致方式为每个人服务。
## HTTPS 协议的工作原理

HTTP 传输未加密的数据，这意味着从浏览器发送的信息可能会被第三方拦截和读取。这一过程并不理想，因此将其扩展成为 HTTPS，以便为通信再增加一层安全性。HTTPS 将 HTTP 请求和响应与 SSL 和 TLS 技术相结合。

HTTPS 网站必须从独立证书颁发机构（CA）获取 SSL/TLS 证书。这些网站会在交换数据之前先与浏览器共享该证书，以建立信任。SSL 证书还包含加密信息，以便服务器和 Web 浏览器可以交换加密或刻意打乱的数据。该过程的工作原理是：

> [!NOTE]
> 1. 您通过在浏览器的地址栏中键入` _https://_ URL `格式来访问 HTTPS 网站。
> 2. 浏览器尝试通过请求服务器的 SSL 证书来验证该站点的真实性。
> 3. 该服务器发送包含公钥的 SSL/TLS 证书作为回复。
> 4. 该网站的 SSL 证书将证明该服务器身份。浏览器确认一切妥当后，它将使用该公钥加密并发送包含秘密会话密钥的消息。
> 5. Web 服务器使用其私钥解密消息并检索会话密钥。然后，它将加密该会话密钥，并向浏览器发送确认消息。
> 6. 现在，浏览器和 Web 服务器都切换到使用相同的会话密钥来安全地交换消息。

![](/img/user/attachments/Pasted image 20240621152444.png)
### HTTPS通信的加密机制及原理

HTTPS（HyperText Transfer Protocol Secure）是一种基于HTTP的安全协议，它通过结合SSL/TLS协议实现了数据加密、身份验证和数据完整性保护的功能。以下是关于HTTPS通信加密机制及原理的具体说明：

1. **握手过程**  
    在建立HTTPS连接之前，客户端（通常是浏览器）与服务器之间会经历一个名为TLS/SSL握手的过程。此过程中主要包括以下几个阶段：
    
    - 客户端发起请求并向服务器发送支持的加密算法列表以及随机数_1_。
    - 服务器回应自己的证书、选定的加密套件以及另一个随机数。
    - 客户端验证服务器证书的有效性，并生成一个预主密钥（Pre-Master Secret）。该预主密钥使用非对称加密方法由客户端加密后传送给服务器_4_。
    - 服务器解密得到预主密钥，并利用双方交换过的随机数值计算出最终的主密钥（Master Secret），用于后续对称加密通讯_4_。
2. **对称加密与非对称加密结合**
    
    - **对称加密**：一旦完成了握手阶段并协商好共享的秘密之后，在实际的数据传输环节中通常采用效率更高的对称加密方式来保障信息安全_4_。这是因为相比非对称加密而言，对称加密的速度更快且消耗资源较少。
    - **非对称加密**：然而，在初始阶段为了安全传递能够生成这些对称秘钥所需材料，则需要用到相对耗时但安全性高的非对称加密技术_4_。这确保了即便中间人截获到了部分信息也无法轻易破解真正的对话密钥。
3. **数据完整性校验**  
    此外，除了单纯的保密之外，HTTPS还提供了防止数据被篡改的能力。这是通过对每条消息附加MAC(Message Authentication Code)实现的；只有当接收方能正确重现相同的MAC值时才能确认收到的内容未遭修改_1_。
    
4. **身份认证**  
    利用数字证书机构(CA)签发的X.509格式电子凭证——即常说的SSL Certificates，可以证明网站的真实身份归属某特定实体组织或个人所有者_2_。这种信任链条使得用户能够在一定程度上信赖他们正在交互的对象确实合法可信而非假冒伪劣产品或者钓鱼站点。
## https为什么是安全的？体现在哪

https保证数据以更保密的方式传输，并增加对服务器身份验证，这可以使我们的数据传输更安全，有效防止数据的泄露和篡改。

https可以减小DNS劫持和钓鱼网站产生的威胁。

DNS劫持，即将用户访问的域名指定到攻击者的服务器的攻击方法。如果正常的网站使用https，那么客户端会验证证书，而由于证书审核很严格并且较难伪造，所以攻击者的服务器不太可能会有一个权威机构颁发的证书，因此无法和浏览器建立连接

钓鱼网站，即仿冒正常网站的网站，目的是欺骗用户，获取敏感信息。钓鱼网站也很难获得合法的证书，因此不容易仿冒使用https的网站
## 差异：HTTP 与HTTPS

|      | HTTP                                         | HTTPS                                   |
| ---- | -------------------------------------------- | --------------------------------------- |
| 代表   | 超文本传输协议                                      | 安全超文本传输协议                               |
| 底层协议 | HTTP/1 和 HTTP/2 使用 TCP/IP。HTTP/3 使用 QUIC 协议。 | 使用包含 SSL/TLS 的 HTTP/2，以进一步加密 HTTP 请求和响应 |
| 端口   | 默认端口 80                                      | 默认端口 443                                |
| 用于   | 基于文本的较旧的网站                                   | 所有现代网站                                  |
| 安全性  | 没有额外的安全功能                                    | 使用 SSL 证书进行公钥加密                         |
| 优势   | 实现了通过互联网进行通信                                 | 可以提高网站的权威性、可信度和搜索引擎排名                   |
