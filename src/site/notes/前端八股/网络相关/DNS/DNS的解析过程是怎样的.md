---
{"dg-publish":true,"permalink":"/前端八股/网络相关/DNS/DNS的解析过程是怎样的/","created":"2025-05-25T13:25:28.804+08:00","updated":"2025-06-14T23:37:46.497+08:00"}
---

> [!NOTE]
> 域名解析过程有这么几个关键节点：  
> 浏览器->本地host->本地域名服务器->根域名服务->顶级域名服务器->权威域名服务器
> 
> 1. 浏览器首先检查自己有没有缓存，如果有直接使用，如果没有再查找本地host；
> 2. 如果本地host有对应的映射，则直接使用，如果没有则让本地域名服务器帮助解析
> 3. 本地域名服务器如果有缓存会直接返回缓存，如果没有，则开始发起请求，首先请求根域名服务器获取顶级域名服务器的地址
> 4. 然后本地域名服务器会向顶级域名服务器发起请求，顶级域名服务器会返回权威域名服务器地址
> 5. 然后本地域名服务器会向权威域名服务器发起请求，得到最终的ip，然后返回给浏览器
> 
> 负责请求和缓存的：浏览器、host文件、本地域名服务器（可能是路由也可能是运营商在维护），真正发起请求的是本地域名服务器。  
> 负责解析的：根域名服务器、顶级域名服务器、权威域名服务器。

```markdown
用户输入域名 
➜ 浏览器缓存 
➜ hosts 文件 
➜ 操作系统 DNS 缓存 
➜ 本地 DNS 服务器 
    ↳ 若无记录：
       ➜ 根 DNS 服务器 
       ➜ 顶级域（TLD）服务器 
       ➜ 权威 DNS 服务器 
➜ 返回 IP 
➜ 建立连接 
➜ 加载网页

```

在面试中，讲解 **DNS 的解析过程**，可以围绕“**从输入网址到拿到 IP 的过程**”清晰、有条理地说明。

---

### ✅ 简洁版回答：DNS 解析过程分为以下几个步骤：

1. **浏览器缓存查询**  
    先查看浏览器是否缓存了该域名的 IP 地址，有就直接使用。
    
2. **操作系统缓存查询**  
    如果浏览器没有，就向操作系统（如 Windows 的 DNS 缓存）查询。
    
3. **本地 Hosts 文件查询**  
    操作系统会查 `hosts` 文件，看是否有该域名对应的 IP。
    
4. **本地 DNS 服务器查询（递归查询）**  
    如果本地没有命中，系统会向配置的本地 DNS（通常是运营商提供的）发起请求。
    
5. **根 DNS 服务器**  
    本地 DNS 若也没有，会向**根服务器**请求，比如：“谁知道 .com 的权威服务器在哪？”
    
6. **顶级域名（TLD）服务器**  
    根服务器告诉它去找 `.com` 的服务器。
    
7. **权威 DNS 服务器**  
    `.com` 的服务器再告诉它，“example.com” 的权威服务器在哪。
    
8. **获取最终 IP 地址**  
    权威 DNS 返回目标 IP，本地 DNS 将结果缓存，并返回给浏览器。
    

---

### ✅ 一句话总结（可收尾）：

> “DNS 解析从浏览器缓存开始，最终通过递归或迭代方式，找到权威 DNS 返回 IP，实现域名到 IP 的转换。”

---


### DNS解析过程详解

DNS（Domain Name System）解析是一个将域名转换为IP地址的过程。以下是详细的解析流程：

#### 1. 客户端发起请求

当用户输入一个域名（如 `www.example.com`），浏览器或其他应用程序会向本地配置的DNS服务器发送查询请求_3_。

#### 2. 查询本地缓存

在发出外部请求之前，操作系统或应用层可能会先检查本地缓存是否存在对应的记录。如果有匹配项，则直接返回结果；如果没有命中，则继续下一步操作_1_。

#### 3. 转发至递归/转发DNS服务器

如果用户的设备无法自行完成解析，它会把任务交给指定的递归DNS服务器处理。此阶段可能涉及多个层次的跳转直到找到最终答案为止_4_。

#### 4. 寻找根域(.)

递归DNS收到未知条目的询问后，首先联系负责顶级结构维护工作的根名称服务节点之一获取更具体位置指引信息——即指向相应TLD(Top Level Domain)服务器的方向指示器_2_。

#### 5. TLD服务器响应

接着依据前一步得到的结果访问特定类型的TLD服务器来进一步缩小范围直至锁定目标主机所在的授权区域管理机构_2_。

#### 6. 授权DNS服务器回复实际数据

最后由拥有该子网控制权的企业或者组织运营下的权威名字服务器给出确切映射关系说明文档中的A记录(CNAME等其他形式也可能存在)。

#### 7. 缓存结果并反馈给客户端

一旦获得所需资料之后不仅立即传送给最初提出需求方同时也将其存储起来以便未来相似问题能够更快捷有效地解决减少重复劳动提高效率节省资源消耗量。